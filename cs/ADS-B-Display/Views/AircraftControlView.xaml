<UserControl
    x:Class="ADS_B_Display.Views.AircraftControlView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="clr-namespace:ADS_B_Display.Views.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:local="clr-namespace:ADS_B_Display.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:usercontrols="clr-namespace:ADS_B_Display.Views.UserControls"
    d:DataContext="{d:DesignInstance Type=local:AircraftControlViewModel}"
    d:DesignHeight="1200"
    d:DesignWidth="300"
    mc:Ignorable="d">
    <UserControl.Resources>
        <converters:DoubleToLatitude x:Key="D2Lat" />
        <converters:DoubleToLongitude x:Key="D2Lon" />
        <!--<converters:BoolToStringConverter x:Key="bToInsertCancel" />-->
        <converters:BoolToNotConverter x:Key="bToNotConv" />
        <converters:MsToDateTime x:Key="msToTime" />
        <converters:SecToDateTime x:Key="secToTime" />
        <!--  IsTextConverter 등록  -->
        <converters:IsTextConverter x:Key="IsTextConverter" />
        <!--  HeaderTemplate 정의  -->
        <DataTemplate x:Key="GroupBoxHeaderTemplate">
            <ContentPresenter Content="{Binding}">
                <ContentPresenter.Resources>
                    <Style TargetType="TextBlock">
                        <Setter Property="FontSize" Value="12" />
                        <Setter Property="FontWeight" Value="Bold" />
                    </Style>
                </ContentPresenter.Resources>
            </ContentPresenter>
        </DataTemplate>
    </UserControl.Resources>
    <ScrollViewer
        Grid.Column="1"
        Background="{StaticResource MahApps.Brushes.ThemeBackground}"
        VerticalScrollBarVisibility="Auto">

        <StackPanel Margin="0">

            <Border Padding="12,8" Background="{StaticResource Aurora.Brushes.Accent}">
                <TextBlock
                    FontFamily="Source Serif Pro"
                    FontSize="24"
                    FontWeight="Bold"
                    Text="Carnegie Mellon" />
            </Border>

            <Border
                Background="{StaticResource MahApps.Brushes.ThemeBackground}"
                BorderBrush="{StaticResource Aurora.Brushes.GroupBox.GroupBox24}"
                BorderThickness="1,0,1,1">
                <StackPanel Margin="8,10">
                    <Grid>
                        <TextBlock
                            Margin="0,0,0,0"
                            HorizontalAlignment="Left"
                            FontWeight="Bold"
                            Text="System Time:" />
                        <TextBlock
                            Margin="0"
                            HorizontalAlignment="Right"
                            Text="{Binding SystemTime, StringFormat='yyyy-MM-dd HH:mm:ss', FallbackValue=21:24:17:362}" />
                    </Grid>
                    <Grid>
                        <TextBlock
                            Margin="0,0,0,0"
                            HorizontalAlignment="Left"
                            FontWeight="Bold"
                            Text="Mouse Lat:" />
                        <TextBlock
                            Margin="0"
                            HorizontalAlignment="Right"
                            Text="{Binding LatitudeOfMouse, FallbackValue='123 A'}" />
                    </Grid>
                    <Grid>
                        <TextBlock
                            Margin="0,0,0,0"
                            HorizontalAlignment="Left"
                            FontWeight="Bold"
                            Text="Mouse Lon :" />
                        <TextBlock
                            Margin="0"
                            HorizontalAlignment="Right"
                            Text="{Binding LongitudeOfMouse, FallbackValue='123 A'}" />
                    </Grid>

                    <StackPanel Margin="0,10,0,0" Orientation="Horizontal">
                        <TextBlock
                            Margin="0,0,0,0"
                            FontWeight="Bold"
                            Text="Num of Aircraft:" />
                        <TextBlock Margin="4,0,0,0" Text="{Binding NumOfAircraft}" />
                        <TextBlock
                            Margin="16,0,0,0"
                            FontWeight="Bold"
                            Text="  Viewable:" />
                        <TextBlock Margin="4,0,0,0" Text="{Binding NumOfViewableAircraft}" />
                    </StackPanel>
                </StackPanel>
            </Border>

            <!--  ─── 1) System Info ───  -->
            <!--<GroupBox Margin="0,0,0,0">
                <GroupBox.Header>
                    <Border Grid.Row="1" Background="Black">
                        <TextBlock
                            FontSize="16"
                            Foreground="{StaticResource MahApps.Brushes.ShowcaseBrush}"
                            Text="Carnegie Mellon" />
                    </Border>
                </GroupBox.Header>

            </GroupBox>-->


            <GroupBox Header="Close Control">
                <UniformGrid Margin="8,10" Columns="2">
                    <UniformGrid.Resources>
                        <Style x:Key="TitleText" TargetType="TextBlock">
                            <Setter Property="Margin" Value="0,4,0,0" />
                        </Style>
                        <Style x:Key="ValueText" TargetType="TextBlock">
                            <Setter Property="Margin" Value="8,0,0,0" />
                        </Style>
                    </UniformGrid.Resources>

                    <TextBlock
                        FontWeight="Bold"
                        Style="{StaticResource TitleText}"
                        Text="ICAO:" />
                    <TextBlock
                        FontWeight="Bold"
                        Style="{StaticResource TitleText}"
                        Text="FLIGHT #:" />
                    <TextBlock Style="{StaticResource ValueText}" Text="{Binding Aircraft.ICAO, FallbackValue=NA}" />
                    <TextBlock Style="{StaticResource ValueText}" Text="{Binding Aircraft.FlightNum, FallbackValue=NA}" />
                    <TextBlock
                        FontWeight="Bold"
                        Style="{StaticResource TitleText}"
                        Text="LAT:" />
                    <!--  40°38'07.13&quot; N  -->
                    <TextBlock
                        FontWeight="Bold"
                        Style="{StaticResource TitleText}"
                        Text="LON:" />
                    <TextBlock Style="{StaticResource ValueText}" Text="{Binding Aircraft.Longitude, FallbackValue=NA, Converter={StaticResource D2Lon}}" />
                    <TextBlock Style="{StaticResource ValueText}" Text="{Binding Aircraft.Latitude, FallbackValue=NA, Converter={StaticResource D2Lat}}" />
                    <TextBlock
                        FontWeight="Bold"
                        Style="{StaticResource TitleText}"
                        Text="SPD:" />
                    <TextBlock
                        FontWeight="Bold"
                        Style="{StaticResource TitleText}"
                        Text="VRATE:" />
                    <TextBlock Style="{StaticResource ValueText}">
                        <Run Text="{Binding Aircraft.Speed, FallbackValue=NA, StringFormat=F2}" />
                        <Run Text="KTS" />
                    </TextBlock>
                    <TextBlock Style="{StaticResource ValueText}">
                        <Run Text="{Binding Aircraft.VerticalRate, FallbackValue=NA, StringFormat=F2}" />
                    </TextBlock>
                    <TextBlock
                        FontWeight="Bold"
                        Style="{StaticResource TitleText}"
                        Text="HDG:" />
                    <TextBlock
                        FontWeight="Bold"
                        Style="{StaticResource TitleText}"
                        Text="ALT:" />
                    <TextBlock Style="{StaticResource ValueText}">
                        <Run Text="{Binding Aircraft.Heading, FallbackValue=NA}" />
                        <Run Text="DEG" />
                    </TextBlock>
                    <TextBlock Style="{StaticResource ValueText}">
                        <Run Text="{Binding Aircraft.Altitude, FallbackValue=NA}" />
                        <Run Text="FT" />
                    </TextBlock>
                    <TextBlock
                        FontWeight="Bold"
                        Style="{StaticResource TitleText}"
                        Text="MSG CNT :" />
                    <Rectangle Visibility="Hidden" />
                    <StackPanel Grid.Row="9" Orientation="Horizontal">
                        <TextBlock Style="{StaticResource ValueText}" Text="Raw : " />
                        <TextBlock Text="{Binding Aircraft.NumMessagesRaw, FallbackValue=0}" />
                        <TextBlock Style="{StaticResource ValueText}" Text="SBS : " />
                        <TextBlock Text="{Binding Aircraft.NumMessagesSBS, FallbackValue=0}" />
                    </StackPanel>
                    <Rectangle Visibility="Hidden" />
                    <TextBlock
                        HorizontalAlignment="Left"
                        FontWeight="Bold"
                        Style="{StaticResource TitleText}"
                        Text="LAST UPDATE TIME:    " />
                    <Rectangle Visibility="Hidden" />
                    <TextBlock
                        HorizontalAlignment="Left"
                        Style="{StaticResource ValueText}"
                        Text="{Binding Aircraft.LastSeen, StringFormat='yyyy-MM-dd HH:mm:ss', Converter={StaticResource msToTime}}" />
                    <Button
                        Grid.RowSpan="12"
                        Grid.ColumnSpan="2"
                        Width="100"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Bottom"
                        Command="{Binding Cmd_Analytics}"
                        Content="Analytics" />
                </UniformGrid>
            </GroupBox>

            <!--  ─── 3) Display Map / Purge ───  -->
            <GroupBox Header="">
                <StackPanel Margin="8,10" Orientation="Vertical">
                    <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                        <CheckBox
                            Margin="0,4,0,0"
                            Content="Purge Stale"
                            IsChecked="{Binding ControlSettings.PurgeStale}" />
                        <TextBox
                            Width="40"
                            Margin="4,0,0,0"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            Text="{Binding ControlSettings.PurgeDuration}" />
                        <Button
                            Margin="8,0,0,0"
                            Padding="8,2"
                            Command="{Binding Cmd_Purge}"
                            Content="Purge Force" />
                    </StackPanel>
                </StackPanel>
            </GroupBox>



            <!--  ─── 7) SBS Record / SBS Playback ───  -->

            <TabControl Margin="0,10,0,0">
                <TabItem Header="Connection" Style="{StaticResource MahApps.Styles.TabItem.Aurora}">
                    <StackPanel HorizontalAlignment="Stretch" Orientation="Vertical">
                        <GroupBox Header="Raw Connection">
                            <StackPanel Margin="8,10" Orientation="Vertical">
                                <!--  Connection Status + Address  -->
                                <DockPanel Margin="0,0,0,8" LastChildFill="True">
                                    <!--  Signal Light  -->
                                    <usercontrols:ConnectionSignal
                                        Width="16"
                                        Height="16"
                                        ConnectionStatus="{Binding RawConnectStatus}" />

                                    <TextBox
                                        Margin="8,0,0,0"
                                        Padding="8,0"
                                        HorizontalContentAlignment="Left"
                                        VerticalContentAlignment="Center"
                                        Text="{Binding ControlSettings.RawAddress, FallbackValue=127.0.0.1}" />
                                </DockPanel>

                                <!--  SBS Host Input  -->
                                <StackPanel Orientation="Horizontal">
                                    <!--  Connect Button  -->
                                    <Button
                                        Width="100"
                                        Margin="24,0,8,0"
                                        Command="{Binding Cmd_RawConnect}"
                                        Content="Connect" />

                                    <!--  Disconnect Button  -->
                                    <Button
                                        Width="100"
                                        Command="{Binding Cmd_RawDisconnect}"
                                        Content="Disconnect" />
                                </StackPanel>

                                <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                    <GroupBox
                                        Margin="10,10,0,0"
                                        Padding="4,2"
                                        Background="Transparent"
                                        Header="Record"
                                        Style="{x:Null}">
                                        <StackPanel Orientation="Horizontal">
                                            <!--  Record  -->
                                            <Button
                                                Margin="0,0,8,0"
                                                Background="Transparent"
                                                BorderBrush="Transparent"
                                                Command="{Binding Cmd_RawRecord}"
                                                Cursor="Hand">
                                                <StackPanel HorizontalAlignment="Center" Orientation="Vertical">
                                                    <iconPacks:PackIconMaterial
                                                        Width="24"
                                                        Height="24"
                                                        Foreground="#555555"
                                                        Kind="Record" />
                                                </StackPanel>
                                            </Button>

                                            <!--  Stop  -->
                                            <Button
                                                Background="Transparent"
                                                BorderBrush="Transparent"
                                                Command="{Binding Cmd_RawRecordStop}"
                                                Cursor="Hand">
                                                <StackPanel HorizontalAlignment="Center" Orientation="Vertical">
                                                    <iconPacks:PackIconMaterial
                                                        Width="24"
                                                        Height="24"
                                                        Foreground="#555555"
                                                        Kind="Stop" />
                                                </StackPanel>
                                            </Button>
                                        </StackPanel>
                                    </GroupBox>
                                    <GroupBox
                                        Margin="10,10,0,0"
                                        Padding="4,2"
                                        Background="Transparent"
                                        Header="Play"
                                        Style="{x:Null}">
                                        <StackPanel Orientation="Horizontal">
                                            <!--  Play  -->
                                            <Button
                                                Margin="0,0,8,0"
                                                Background="Transparent"
                                                BorderBrush="Transparent"
                                                Command="{Binding Cmd_RawPlay}"
                                                Cursor="Hand">
                                                <StackPanel HorizontalAlignment="Center" Orientation="Vertical">
                                                    <iconPacks:PackIconMaterial
                                                        Width="24"
                                                        Height="24"
                                                        Foreground="#555555"
                                                        Kind="Play" />
                                                </StackPanel>
                                            </Button>

                                            <!--  Stop  -->
                                            <Button
                                                Background="Transparent"
                                                BorderBrush="Transparent"
                                                Command="{Binding Cmd_RawPlayStop}"
                                                Cursor="Hand">
                                                <StackPanel HorizontalAlignment="Center" Orientation="Vertical">
                                                    <iconPacks:PackIconMaterial
                                                        Width="24"
                                                        Height="24"
                                                        Foreground="#555555"
                                                        Kind="Stop" />
                                                </StackPanel>
                                            </Button>
                                        </StackPanel>
                                    </GroupBox>
                                </StackPanel>
                            </StackPanel>
                        </GroupBox>

                        <GroupBox Header="SBS Connection">
                            <StackPanel Margin="8,10" Orientation="Vertical">

                                <StackPanel Margin="20,0,0,4" Orientation="Horizontal">
                                    <RadioButton
                                        Margin="4,0,10,0"
                                        Content="Local"
                                        IsChecked="{Binding IsLocal}" />
                                    <RadioButton
                                        Margin="0,0,10,0"
                                        Content="HUB"
                                        IsChecked="{Binding IsHub}" />
                                    <RadioButton Content="ETC." IsChecked="{Binding IsEtc}" />
                                </StackPanel>
                                <!--  Connection Status + Buttons  -->
                                <DockPanel Margin="0,0,0,8" LastChildFill="True">
                                    <!--  Signal Light  -->
                                    <usercontrols:ConnectionSignal
                                        Width="16"
                                        Height="16"
                                        ConnectionStatus="{Binding SbsConnectStatus}" />
                                    <TextBox
                                        Margin="8,0,0,0"
                                        Padding="8,0"
                                        HorizontalContentAlignment="Left"
                                        VerticalContentAlignment="Center"
                                        IsEnabled="{Binding}"
                                        IsReadOnly="{Binding IsEtc, Converter={StaticResource bToNotConv}}"
                                        Text="{Binding ControlSettings.SbsAddress}" />
                                </DockPanel>

                                <!--  SBS Host Input  -->
                                <StackPanel Orientation="Horizontal">
                                    <!--  Connect Button  -->
                                    <Button
                                        Width="100"
                                        Margin="24,0,8,0"
                                        Command="{Binding Cmd_SbsConnect}"
                                        Content="Connect" />

                                    <!--  Disconnect Button  -->
                                    <Button
                                        Width="100"
                                        Command="{Binding Cmd_SbsDisconnect}"
                                        Content="Disconnect" />
                                </StackPanel>

                                <!--  Icon Buttons  -->
                                <StackPanel
                                    Margin="0,10,0,0"
                                    HorizontalAlignment="Right"
                                    Orientation="Vertical">
                                    <CheckBox
                                        Margin="10,0,0,0"
                                        Content="Use BigQuery"
                                        IsChecked="{Binding ControlSettings.UseBigQuery}" />

                                    <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                        <GroupBox
                                            Margin="10,0,0,0"
                                            Padding="4,2"
                                            Background="Transparent"
                                            Header="Record"
                                            Style="{x:Null}">
                                            <StackPanel Orientation="Horizontal">
                                                <!--  Record  -->
                                                <Button
                                                    Margin="0,0,8,0"
                                                    Background="Transparent"
                                                    BorderBrush="Transparent"
                                                    Command="{Binding Cmd_SbsRecord}"
                                                    Cursor="Hand">
                                                    <StackPanel HorizontalAlignment="Center" Orientation="Vertical">
                                                        <iconPacks:PackIconMaterial
                                                            Width="24"
                                                            Height="24"
                                                            Foreground="#555555"
                                                            Kind="Record" />
                                                    </StackPanel>
                                                </Button>

                                                <!--  Stop  -->
                                                <Button
                                                    Background="Transparent"
                                                    BorderBrush="Transparent"
                                                    Command="{Binding Cmd_SbsRecordStop}"
                                                    Cursor="Hand">
                                                    <StackPanel HorizontalAlignment="Center" Orientation="Vertical">
                                                        <iconPacks:PackIconMaterial
                                                            Width="24"
                                                            Height="24"
                                                            Foreground="#555555"
                                                            Kind="Stop" />
                                                    </StackPanel>
                                                </Button>
                                            </StackPanel>
                                        </GroupBox>
                                        <GroupBox
                                            Margin="10,0,0,0"
                                            Padding="4,2"
                                            Background="Transparent"
                                            Header="Play"
                                            Style="{x:Null}">
                                            <StackPanel Orientation="Horizontal">
                                                <!--  Play  -->
                                                <Button
                                                    Margin="0,0,8,0"
                                                    Background="Transparent"
                                                    BorderBrush="Transparent"
                                                    Command="{Binding Cmd_SbsPlay}"
                                                    Cursor="Hand">
                                                    <StackPanel HorizontalAlignment="Center" Orientation="Vertical">
                                                        <iconPacks:PackIconMaterial
                                                            Width="24"
                                                            Height="24"
                                                            Foreground="#555555"
                                                            Kind="Play" />
                                                    </StackPanel>
                                                </Button>

                                                <!--  Stop  -->
                                                <Button
                                                    Background="Transparent"
                                                    BorderBrush="Transparent"
                                                    Command="{Binding Cmd_SbsPlayStop}"
                                                    Cursor="Hand">
                                                    <StackPanel HorizontalAlignment="Center" Orientation="Vertical">
                                                        <iconPacks:PackIconMaterial
                                                            Width="24"
                                                            Height="24"
                                                            Foreground="#555555"
                                                            Kind="Stop" />
                                                    </StackPanel>
                                                </Button>
                                            </StackPanel>
                                        </GroupBox>
                                    </StackPanel>
                                </StackPanel>

                            </StackPanel>
                        </GroupBox>
                    </StackPanel>
                </TabItem>
                <TabItem Header="Map" Style="{StaticResource MahApps.Styles.TabItem.Aurora}">
                    <GroupBox HorizontalAlignment="Stretch" Header="">
                        <StackPanel Margin="8,10" Orientation="Vertical">
                            <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                <CheckBox
                                    VerticalAlignment="Center"
                                    Content="Display Map:"
                                    FontWeight="Bold"
                                    IsChecked="{Binding DisplayMapEnabled}" />
                            </StackPanel>
                            <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                <TextBlock FontWeight="Bold" Text="Map provider :" />
                                <ComboBox
                                    Width="150"
                                    Margin="8,0,0,0"
                                    ItemsSource="{Binding TileServerTypeList}"
                                    SelectedItem="{Binding SelectedTileServer}" />
                            </StackPanel>



                            <!--  Zoom In / Zoom Out 버튼  -->
                            <StackPanel
                                Margin="0,8,0,8"
                                HorizontalAlignment="Center"
                                Orientation="Horizontal">
                                <Button Width="100" Content="Zoom In" />
                                <Button
                                    Width="100"
                                    Margin="8,0,0,0"
                                    Content="Zoom Out" />
                            </StackPanel>
                        </StackPanel>
                    </GroupBox>
                </TabItem>
                <TabItem Header="Track" Style="{StaticResource MahApps.Styles.TabItem.Aurora}">
                    <StackPanel Orientation="Vertical">
                        <!--  ─── 8) Areas Of Interest ───  -->
                        <GroupBox>
                            <GroupBox.Header>
                                <StackPanel>
                                    <CheckBox
                                        Margin="4,0,0,0"
                                        Content="Areas Of Interest"
                                        IsChecked="{Binding UsePolygon, UpdateSourceTrigger=PropertyChanged}" />
                                </StackPanel>
                            </GroupBox.Header>
                            <StackPanel Margin="8,10" Orientation="Vertical">
                                <DataGrid
                                    Height="120"
                                    AutoGenerateColumns="False"
                                    BorderBrush="Gray"
                                    BorderThickness="1"
                                    CanUserAddRows="False"
                                    ItemsSource="{Binding AreaList}"
                                    SelectedItem="{Binding SelectedArea, Mode=TwoWay}"
                                    SelectionMode="Single"
                                    VerticalScrollBarVisibility="Auto">

                                    <DataGrid.Columns>
                                        <DataGridTemplateColumn Width="Auto" Header="Use">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <CheckBox
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        IsChecked="{Binding Use, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Color">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Rectangle
                                                        Width="20"
                                                        Height="16"
                                                        Fill="{Binding AreaColorBrush}"
                                                        Stroke="Black"
                                                        StrokeThickness="0.5" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTextColumn
                                            Width="*"
                                            Binding="{Binding Name}"
                                            Header="Name" />

                                    </DataGrid.Columns>
                                </DataGrid>
                                <!--<ListView
                                    x:Name="AreaListView"
                                    Height="100"
                                    BorderBrush="Gray"
                                    BorderThickness="1"
                                    ItemsSource="{Binding AreaList}"
                                    ScrollViewer.VerticalScrollBarVisibility="Auto"
                                    SelectedItem="{Binding SelectedArea, Mode=TwoWay}"
                                    SelectionMode="Single">
                                    <ListView.View>
                                        <GridView>
                                            <GridViewColumn
                                                Width="160"
                                                DisplayMemberBinding="{Binding AreaName}"
                                                Header="Area" />
                                            <GridViewColumn Width="80" Header="Color">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Rectangle
                                                            Width="20"
                                                            Height="16"
                                                            Fill="{Binding AreaColorBrush}"
                                                            Stroke="Black"
                                                            StrokeThickness="0.5" />
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                        </GridView>
                                    </ListView.View>
                                </ListView>-->

                                <!--  Insert / Complete / Cancel / Delete 버튼  -->
                                <UniformGrid Margin="0,8,0,0" Columns="5">
                                    <Button Command="{Binding InsertCommand}" Content="Insert" />
                                    <Button
                                        Margin="2,0"
                                        Command="{Binding CompleteCommand}"
                                        Content="FInish" />
                                    <Button
                                        Margin="2,0"
                                        Command="{Binding CancelCommand}"
                                        Content="Cancel" />
                                    <Button
                                        Margin="2,0"
                                        Command="{Binding DeleteCommand}"
                                        Content="Delete" />
                                    <Button
                                        Margin="2,0"
                                        Command="{Binding MonitorCommand}"
                                        Content="Monitor" />
                                </UniformGrid>
                            </StackPanel>
                        </GroupBox>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock FontWeight="Bold" Text="CPA TIME:" />
                            <TextBlock Margin="8,0,0,0" Text="NONE" />
                        </StackPanel>
                        <StackPanel Margin="0,2,0,0" Orientation="Horizontal">
                            <TextBlock FontWeight="Bold" Text="CPA DISTANCE:" />
                            <TextBlock Margin="8,0,0,0" Text="None" />
                        </StackPanel>

                        <DockPanel Margin="0,8,0,0" VerticalAlignment="Center">
                            <CheckBox
                                Content="Time-To-Go"
                                FontWeight="Bold"
                                IsChecked="{Binding UseTimeTogo}" />
                            <TextBox
                                Width="100"
                                Margin="10,0,0,0"
                                HorizontalAlignment="Left"
                                HorizontalContentAlignment="Center"
                                Text="{Binding TimeTogoValue, Mode=TwoWay, Converter={StaticResource secToTime}}" />
                            <!--<TextBlock Margin="8,0,0,0" Text="{Binding ElementName=sliderTimeTogo, Path=Value, Converter={StaticResource secToTime}, StringFormat='hh\\:mm\\:ss'}" />-->
                            <Button
                                Margin="10,0,0,0"
                                Padding="6,2"
                                Command="{Binding Cmd_ShowCpaDialog}"
                                Content="Collision Monitor" />
                        </DockPanel>

                        <!--  Time-To-Go 슬라이더 + 값 표시  -->
                        <Slider
                            x:Name="sliderTimeTogo"
                            Margin="0,2,20,0"
                            LargeChange="10"
                            Maximum="1800"
                            Minimum="0"
                            SmallChange="1"
                            TickFrequency="1"
                            Value="{Binding TimeTogoValue}" />
                    </StackPanel>
                </TabItem>
            </TabControl>
            <!--  ─── 9) 지도 공급자 선택 콤보박스 ───  -->


        </StackPanel>
    </ScrollViewer>
</UserControl>
